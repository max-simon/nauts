server_name: nauts-test-policy
jetstream {
    store_dir: /tmp/nauts-test-policy-static-jetstream
    max_mem: 128M
    max_file: 1G
}

# Account definitions
accounts {
    
    # AUTH account - used by the nauts auth callout service
    AUTH {
        users: [
            { nkey: UCJADB26AT353XTSBFJ5EIU5TKVLCC6AWWCZEO4KHCJO3UJMQ67RYWPR }
        ]
    }

    POLICY {
        # No static users - all users are authenticated via nauts
        jetstream: enabled
    }

    SYS {
        # System account
    }
}

# System account configuration
system_account: SYS

# Authorization with auth callout
authorization {

    auth_callout {
        # The account that issues user JWTs
        issuer: AD54T7ZMSKGHAS5ZMM6QNDFLMB3QH4VNGZOK3OLVE3EYCFA4I5YAOSAU

        # Allow users to login with nkeys
        # - auth-service user to handle auth callout requests
        users: [ 
            UCJADB26AT353XTSBFJ5EIU5TKVLCC6AWWCZEO4KHCJO3UJMQ67RYWPR
        ]

        # Account where auth callout service connects
        account: AUTH

        # XKey for encrypted auth callout
        xkey: XD7B55LQSYCR2SZSRKWDAUC6KACR7UVQ56LAL4FPJO5SALDB2AIXG4BT
    }
}
